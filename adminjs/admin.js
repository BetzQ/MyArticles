const table=document.querySelector("table tbody");function viewArticles(e){localStorage.setItem("admin_user_id",e),window.location.href="/admin/articles.html"}function deleteUser(e){if("642cc859017f964d91a250ca"===e){if(!confirm("Apakah Anda yakin ingin menghapus akun ADMIN?"))return}else if(!confirm("Apakah Anda yakin ingin menghapus pengguna ini?"))return;fetch(`https://server-my-articles.vercel.app/users/${e}`,{method:"DELETE"}).then(e=>e.json()).then(e=>{location.reload()}).catch(e=>console.error(e))}function logout(){localStorage.removeItem("isAdmin"),localStorage.removeItem("admin_user_id"),window.location.href="/"}window.addEventListener("load",async()=>{let e=localStorage.getItem("isAdmin");if(e&&"642cc859017f964d91a250ca"===e){document.querySelector(".noAccessAdmin").classList.add("hidden");try{let t=await fetch("https://server-my-articles.vercel.app/users"),a=await t.json();a.users.forEach((e,t)=>{let a=document.createElement("tr");a.classList.add("border-b","border-gray-300"),a.innerHTML+=`<td class="py-2 px-4">${t}</td><td class="py-2 px-4 cursor-pointer hover:opacity-80 ${"642cc859017f964d91a250ca"===e._id?"text-yellow-600":""}" onclick="viewArticles('${e._id}')">${e.username}</td><td class="py-2 px-4">${e.email}</td><td class="py-2 px-4"> <button class="bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded-md text-xs" onclick="deleteUser('${e._id}')">Hapus</button></td>`;let n=document.querySelector("table tbody");n.appendChild(a)})}catch(n){console.error(n)}}else window.location.href="/"});